"use strict";window.utils={BREAKPOINT_MOBILE:"(max-width: 1023px)",sendData:async(e,t)=>await fetch(t,{method:"POST",body:JSON.stringify(e),mode:"no-cors"})},document.querySelectorAll(".js-card").forEach((e=>{const t=e.querySelector(".js-card-content"),n=e.querySelector(".js-card-success"),r=e.querySelector(".js-card-error"),d=e.querySelector(".js-card-form"),i=e.querySelector(".js-card-back-btn"),o=e.querySelector(".js-card-form-tel");if(!(t&&n&&r&&d&&i&&o&&d.action!==window.location.href))return;const s=IMask(o,{mask:"+{7} (000) 000-00-00"});function a(e){e&&console.error(e),t.setAttribute("hidden","hidden"),n.setAttribute("hidden","hidden"),r.removeAttribute("hidden")}o.addEventListener("input",(()=>{const e=11===s.unmaskedValue.length;o.setCustomValidity(e?"":"Номер введен не полностью")})),d.addEventListener("submit",(async e=>{e.preventDefault();const i=new FormData(d),o=`${i.get("firstName")} ${i.get("lastName")}`.trim();i.append("name",o),i.delete("firstName"),i.delete("lastName");const s=new URLSearchParams(i).toString();try{const e=fetch(d.action,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),i=await e;i.ok?(t.setAttribute("hidden","hidden"),n.removeAttribute("hidden"),r.setAttribute("hidden","hidden")):a(i)}catch(e){a(e)}})),i.addEventListener("click",(()=>{d.reset(),t.removeAttribute("hidden"),n.setAttribute("hidden","hidden"),r.setAttribute("hidden","hidden")}))})),(()=>{if(!window.Swiper)return void console.error("Swiper lib isn't exist");document.querySelectorAll(".js-group-slider").forEach((e=>{let t=null;const n=window.matchMedia(window.utils.BREAKPOINT_MOBILE);function r(n,r){n?r||(t=new Swiper(e,{mousewheel:{forceToAxis:!0},loop:!0,slidesPerView:1,spaceBetween:36,speed:800,autoplay:{delay:3e3},pagination:{el:".b-grid__bullet-list",bulletClass:"b-grid__bullet",bulletActiveClass:"actv",clickable:!0,bulletElement:"button"},breakpoints:{768:{spaceBetween:72}}})):t&&(t.destroy(!0,!0),t=null)}n.addEventListener("change",(e=>r(e.matches,t))),document.addEventListener("DOMContentLoaded",(()=>{r(n.matches,t)}))}))})();