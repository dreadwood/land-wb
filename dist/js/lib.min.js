"use strict";window.utils={BREAKPOINT_MOBILE:"(max-width: 1023px)",sendData:async(e,t)=>await fetch(t,{method:"POST",body:JSON.stringify(e),mode:"no-cors"})},document.querySelectorAll(".js-accordion").forEach((e=>{const t=e.querySelector(".js-accordion-btn"),n=e.querySelector(".js-accordion-content");t&&n&&t.addEventListener("click",(()=>{e.classList.toggle("show"),e.classList.contains("show")?n.style=`height: ${n.scrollHeight}px;`:n.style=""}))})),document.querySelectorAll(".js-card").forEach((e=>{const t=e.querySelector(".js-card-content"),n=e.querySelector(".js-card-success"),r=e.querySelector(".js-card-error"),o=e.querySelector(".js-card-form"),i=e.querySelector(".js-card-back-btn"),d=e.querySelector(".js-card-form-tel");if(!(t&&n&&r&&o&&i&&d&&o.action!==window.location.href))return;const s=IMask(d,{mask:"+{7} (000) 000-00-00"});function c(e){e&&console.error(e),t.setAttribute("hidden","hidden"),n.setAttribute("hidden","hidden"),r.removeAttribute("hidden")}d.addEventListener("input",(()=>{const e=11===s.unmaskedValue.length;d.setCustomValidity(e?"":"Номер введен не полностью")})),o.addEventListener("submit",(async e=>{e.preventDefault();const i=new FormData(o),d=new URLSearchParams(i).toString();try{const e=fetch(o.action,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:d}),i=await e;i.ok?(t.setAttribute("hidden","hidden"),n.removeAttribute("hidden"),r.setAttribute("hidden","hidden")):c(i)}catch(e){c(e)}})),i.addEventListener("click",(()=>{o.reset(),t.removeAttribute("hidden"),n.setAttribute("hidden","hidden"),r.setAttribute("hidden","hidden")}))})),(()=>{if(!window.Swiper)return void console.error("Swiper lib isn't exist");document.querySelectorAll(".js-group-slider").forEach((e=>{let t=null;const n=window.matchMedia(window.utils.BREAKPOINT_MOBILE);function r(n,r){n?r||(t=new Swiper(e,{mousewheel:{forceToAxis:!0},loop:!0,slidesPerView:1,spaceBetween:36,speed:800,autoplay:{delay:3e3},pagination:{el:".b-grid__bullet-list",bulletClass:"b-grid__bullet",bulletActiveClass:"actv",clickable:!0,bulletElement:"button"},breakpoints:{768:{spaceBetween:72}}})):t&&(t.destroy(!0,!0),t=null)}n.addEventListener("change",(e=>r(e.matches,t))),document.addEventListener("DOMContentLoaded",(()=>{r(n.matches,t)}))}))})();